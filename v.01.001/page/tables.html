<script async src="../js/app-pages.js"></script>

<div class="jumbotron">
	<h1>Tables</h1>
	<p>{{message}} {{paddingX}}</p>

	<br>

	<table class="table table-striped">
		<caption>
			<form class="row form-inline jq-formservice">
				<fieldset class="pull-right col-md-6 row">
					<div class="form-group pull-right">
						<label class="label-box input-group pull-right col-md-12">
							<div class="input-group-addon fa fa-search"></div>
							<input class="form-control input-width-auto"
							       type="text" placeholder="Search"
							       ng-model="searchCountry">
						</label>
					</div>
					<div class="form-group pull-right">
						<label class="label-box pull-right">
							<span class="label-short">Rows on page</span>
							<input type="number" class="form-control number-width-auto" ng-model="rowsPerPage" style="width: 4em;">
						</label>
					</div>
				</fieldset>
				<fieldset class="pull-left col-md-6">
					<div class="form-group">
						<label class="label-box form-check">
							<input class="form-check-input pull-left" type="checkbox"
							       ng-model="checkboxModel.tableSmallFont"
							       ng-true-value="'small'"
							       ng-false-value=null>
							<div class="label-short text-right">Small font</div>
						</label>
					</div>
					<div class="form-group">
						<div class="label-box">
							<div class="label-short text-right">
								Sort by {{ sortType }},
								Sort type: {{ sortReverse }},
								Search Query: {{ searchCountry }}
							</div>
						</div>
					</div>
				</fieldset>
			</form>
		</caption>
		<thead class="{{checkboxModel.tableSmallFont}}">
			<tr>
				<th style="width: 0.1%" class="text-nowrap
					{{ sortType === 'code' && sortReverse ? 'col-reverse':'col-sort' }}"
				    data-active="{{ sortType === 'code' ? 'active':'' }}">
					<div class="th-content"
					     ng-click="sortType == 'code' ? sortReverse = !sortReverse : sortReverse = sortReverse ; sortType = 'code'">
						Код
					</div>
				</th>
				<th style="width: 70%" class="expandable
					{{ sortType === 'name' && sortReverse ? 'col-reverse':'col-sort' }}"
				    data-active="{{ sortType === 'name' ? 'active':'' }}">
					<div class="th-content"
					     ng-click="sortType == 'name' ? sortReverse = !sortReverse : sortReverse = sortReverse ; sortType = 'name'">
						Страна
					</div>
				</th>
				<th style="width: 30%" class="text-right expandable
				    {{ sortType === 'population' && sortReverse ? 'col-reverse':'col-sort' }}"
				    data-active="{{ sortType === 'population' ? 'active':'' }}">
					<div class="th-content"
					     ng-click="sortType == 'population' ? sortReverse = !sortReverse : sortReverse = sortReverse ; sortType = 'population'">
						Население
					</div>
				</th>
			</tr>
		</thead>
		<tbody class="{{checkboxModel.tableSmallFont}}">
			<!-- change from ng-repeat to dir-paginate attribute -->
			<tr dir-paginate="
			country in countries |
			orderBy: sortType: sortReverse |
			filter: searchCountry |
			itemsPerPage: rowsPerPage">
				<td>{{country.code}}</td>
				<td>{{country.name}}</td>
				<td class="text-right text-num">{{country.population | number}}</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="999">
					<dir-pagination-controls
						boundary-links="true"
						on-page-change="pageChangeHandler(newPageNumber)"
						template-url="../get/tpl/dirPagination.tpl.html">
					</dir-pagination-controls>
				</td>
			</tr>
		</tfoot>
	</table>
	<img class="jq-lazyload" data-original="../img/lazyload.png">

</div>

